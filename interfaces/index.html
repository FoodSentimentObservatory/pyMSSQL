
<!DOCTYPE html>
<html>

	<head>
		<link  rel="stylesheet" href="/static/css/bootstrap.css" type="text/css"/>
		<link  rel="stylesheet" href="/static/css/styles.css" type="text/css"/>
		<link  rel="stylesheet" href="/static/css/newStyles.css" type="text/css"/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
		<script src = "/static/js/bootstrap.min.js"></script>
	</head>

	<body>
	<div class="se-pre-con"></div>
		<nav class="navbar navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">Food Sentiment Observatory</a>
        </div>
        <ul class="nav navbar-nav">
          <li class="active"><a href="/index">Home</a></li>
          <li><a href="/manual">Manual</a></li>
         
        </ul>
      </div>
    </nav> 

		<div class="container" id="mainContainer"> 
		
			<div class="col-sm-8"> <h2>Select a data source and search</h2></div>
			<div class="col-md-12">
			     <input type="hidden" name="notDbName" id="notDbName" value="">
				<form name="searchSpecs" id="searchSpecs" method="post" action="/" onsubmit="return validateForm()">

			    <div class="funkyradio col-md-6">
			    	<div class="searchDefinition" id="searchType">
			    		<input type="hidden" name="dbName" id="dbName" value="">
			    		
				    	<div class="col-sm-8"><h3>Select data source</h3></div>
				    	<div class="col-sm-8" id="searchTypes"></div>
				    	{% for db in listOfDatabases %}
				        <div class="funkyradio-success">
				            <input type="radio" name="inputTypes" id="{{db[1]}}" value="{{db[0]}}" onclick="setDb('{{db[0]}}','{{db[2]}}')" />
				            <label for="{{db[1]}}">{{db[0]}}</label>
				        </div>
				        {% endfor %}
				    </div>
				</div>
				<div id="locationSpot" class="col-md-6"><h4>Areas covered by the search</h4></div>
				<div class="col-md-6" id="map"></div>
				<div class="col-md-12">					  
				     <h3>Analysis</h3> 
				     <div id="searchDefs"></div>
				     <div class="searchDefinition col-md-6" id="searchNote">
				     <div class=" funkyradio col-md-12">
				     	<div class="panel-group" id="accordion">
							<input type="hidden" name="start" id="start" value="">
							<input type="hidden" name="endof" id="endof" value="">
							<div class="panel panel-default">
								<div class="panel-heading">
								        <h4 class="panel-title">
								          <a data-toggle="collapse" data-parent="#accordion" href="#filterKeywords" onclick="selectFilterKeywordDataToBeShown(); changeFormAction('filterKeywords')">Filter keywords</a>
								        </h4>
								 </div>
								 <div id="filterKeywords" class="panel-collapse collapse">
								 	<div class="panel-body">
							            <h4>Choose a search</h4>
							            {% for key, values in dicw.items() %}
							            <div id="{{key}}" class="setVisibility">
							            	{% for v in values %}
							                <div class="funkyradio-success">
											    <input type="radio" name="searchnoteID" id="{{v[3]}}" value="{{v[0]}}" onclick="displaySearchData('{{v[0]}}','{{v[5]}}','{{v[6]}}','{{v[7]}}', '{{v[8]}}', '{{v[9]}}','{{v[10]}}','{{v[11]}}','{{v[12]}}'); setLocalStorage('{{v[7]}}')"/>
											    <input type="hidden" name="keywords" id="{{v[13]}}" value="{{v[7]}}">
											    <label for="{{v[3]}}">{{v[0]}}</label>
											</div>
											{% endfor %}
							            </div>
							            {% endfor %}
							        </div>        
								 </div>
					    </div>
					    <div class="panel panel-default">
								<div class="panel-heading">
								        <h4 class="panel-title">
								          <a data-toggle="collapse" data-parent="#accordion" href="#selectCollection" onclick="selectCollectionDataToBeShown(); changeFormAction('selectCollection')">Select Collection</a>
								        </h4>
								 </div>
								 <div id="selectCollection" class="panel-collapse collapse">
								 	<div class="panel-body">
								 	<h4>Choose Collection</h4>
								 	<div id="collectionError"></div>
								 	{% for key, values in listOfAllCollections.items() %}
							            <div id="{{key}}" class="setVisibility">
							            	{% for v in values %}
							                <div class="funkyradio-success">
								                <input type="checkbox" name="collectionRow" class="checkthis" id="{{v[2]}}" value="{{v[2]}}"/>
								                <input type="hidden" name="twoCollectionId" id="twoCollectionId" value="">
												    <label for="{{v[2]}}">{{v[3]}}</label>
							                </div>
							                {% endfor %}
								 		</div>
								 	{% endfor %}	
								 </div>
						</div>		 	
				    </div>
  
			    </div>
			    </div></div>
			    <div id="searchData" class="col-md-6"></div>
			    <div id="borderDiv" class="col-md-12"></div>
			    <div class="col-sm-8"><button type="submit" class="btn btn-success">Submit</button></div>
			    
			    </form>
			</div>
				

	</div>	

	<!--<footer class="footer" id="footerId">
      <div class="container"> 
        
      </div>
    </footer>-->

    <script src = "/static/js/scripts.js"></script>
	<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBiDjEvKnfBfWVueTpAkF1jjLWQCy-LSSw&callback=initMap">
    </script>


	</body>

</html>	

